<p-table
    #teachersDt
    [value]="teachers"
    dataKey="id"
    [rows]="10"
    [showCurrentPageReport]="true"
    [rowsPerPageOptions]="[10, 25, 50]"
    [paginator]="true"
    currentPageReportTemplate="Mostrando de {first} a {last} de {totalRecords} registros"
    [globalFilterFields]="['firstName', 'middleName', 'lastName', 'secondLastName']"
>
  <ng-template pTemplate="caption">
    <div class="row">
      <div class="col-6">
        <div class="flex">
            <span class="p-input-icon-left ml-auto w-75">
                <i class="pi pi-search"></i>
                <input pInputText type="text" (input)="teachersDt.filterGlobal($any($event).target.value, 'contains')"
                       placeholder="Buscar" class=" w-75"/>
            </span>
        </div>
      </div>
      <div class="col-6 justify-content-end d-flex">
        <button pButton pRipple type="button" icon="fa-solid fa-plus"
                (click)="showRegisterModifyTeacherDialog('Crear')"
                class="p-button-raised p-button-primary p-button-text" label="Nuevo profesor "></button>
      </div>
    </div>
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th scope="col">Nombres</th>
      <th scope="col">Apellidos</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-teacher>
    <tr>
      <td>{{ teacher.firstName }} {{teacher.middleName}}</td>
      <td>{{ teacher.lastName }} {{teacher.secondLastName}}</td>
    </tr>
  </ng-template>


</p-table>

<p-dialog [(visible)]="teacherDialog" header="Nuevo Profesor" [modal]="true" [style]="{width: '550px'}">
  <ng-template pTemplate="content">
    <div [formGroup]="personForm">
      <div class="row my-1">
        <div class="col-6">
          <input type="text" id="name" required autofocus
                 class="w-100" pInputText placeholder="Primer nombre"
                 formControlName="firstName"/>
          <small class="ng-dirty ng-invalid" *ngIf="!teacher.firstName">Nombre es requerido.</small>
        </div>

        <div class="col-6">
          <input class="w-100" type="text" pInputText placeholder="Segundo nombre"
                 formControlName="middleName">
        </div>
      </div>
      <div class="row my-2">
        <div class="col-6">
          <input class="w-100" type="text" pInputText placeholder="Primer apellido"
                 formControlName="lastName">
        </div>
        <div class="col-6">
          <input class="w-100" type="text" pInputText placeholder="Segundo apellido"
                 formControlName="secondLastName">
        </div>
      </div>
      <div class="row">
        <div class="col-12 my-1">
          <input class="w-100" type="text" pInputText placeholder="Correo electrÃ³nico"
                 formControlName="email">
        </div>
      </div>
    </div>
  </ng-template>

  <ng-template pTemplate="footer">
    <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text"
            (click)="teacherDialog=false"></button>
    <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="confirm()"></button>
  </ng-template>
</p-dialog>